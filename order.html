<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MAGAYON POS</title>
    <!-- âœ… REQUIRED for tablet + PWA -->
  <meta name="viewport"
        content="width=device-width,
                 initial-scale=1.0,
                 maximum-scale=1.0,
                 user-scalable=no" />

  <!-- âœ… PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1f1f1f">

  <!-- POS STYLES -->
  <link rel="stylesheet" href="order.css" />
</head>
<body>
    <!-- ðŸ”” Stock Update Banner -->
<div id="stockBanner" class="stock-banner hidden">
  âš  Stock updated
</div>

  <!-- ================= TOP BAR ================= -->
  <div class="top-bar">
    <div class="pos-title">POS</div>

    <div class="top-actions">
      <button id="fullscreenBtn" class="top-btn">â›¶ Full Screen</button>
      <button id="stocksBtn">Stocks List</button>
      <button id="salesBtn">Todayâ€™s Sales</button>
      <button class="active">Main Page</button>
      
    </div>

    <div class="cashier-info">
  <div><b>Cashier:</b> <span id="cashierName"></span></div>
  <div><b>Position:</b> <span id="cashierPosition"></span></div>
  <div><b>Location:</b> <span id="cashierLocation"></span></div>
</div>
  </div>

  <!-- ================= MAIN LAYOUT ================= -->
  <div class="pos-container">

    <aside class="categories-panel" id="categoryList">
  <!-- categories injected by order.js -->
</aside>

    <!-- ========== CENTER : PRODUCTS ========== -->
    <main class="products-panel">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search products" />
      </div>

      <div id="productGrid" class="product-grid">
        <!-- Product cards injected by order.js -->
      </div>
    </main>

    <!-- ========== RIGHT : CART ========== -->
    <aside class="cart-panel">
  <div class="cart-table-wrapper">
    <table class="cart-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Product</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>

      <tbody id="orderTable">
        <!-- Cart rows injected by JS -->
      </tbody>
    </table>
  </div>

  <div class="cart-summary">
    <div class="total-line">
      <span>SUM TOTAL:</span>
      <span>â‚±<span id="sumTotal">0.00</span></span>
    </div>
  </div>

  <div class="cart-actions">
    <button id="clearOrderBtn" class="btn-clear">Clear</button>
    <button class="btn-checkout checkout">Checkout</button>
    <button class="btn-print">Print</button>
  </div>
</aside>

  </div>

  <!-- ================= GLOBAL LOADER ================= -->
<div id="globalLoader" class="loader hidden">
  <div class="spinner"></div>
  <div class="loader-text">Loading dataâ€¦</div>
</div>


  <!-- ================= Payment ================= -->
<div id="paymentModal" class="modal hidden">
  <div class="modal-content payment-ui">

  <div class="payment-header">
    <h2>Payment</h2>
    <span class="payment-method-badge" id="methodBadge">CASH</span>
  </div>

  <div class="payment-summary">
    <div class="summary-row total">
      <span>Total</span>
      <strong id="payTotal">â‚±0.00</strong>
    </div>

    <div class="summary-row paid">
      <span>Paid</span>
      <strong id="paidDisplay">â‚±0.00</strong>
    </div>

    <div class="summary-row change">
      <span>Change</span>
      <strong id="changeAmount">â‚±0.00</strong>
    </div>
  </div>

  <select id="paymentMethod" class="payment-method">
    <option value="CASH">Cash</option>
    <option value="GCASH">GCash</option>
  </select>

  <div class="keypad">
    <button onclick="keypadInput('7')">7</button>
    <button onclick="keypadInput('8')">8</button>
    <button onclick="keypadInput('9')">9</button>

    <button onclick="keypadInput('4')">4</button>
    <button onclick="keypadInput('5')">5</button>
    <button onclick="keypadInput('6')">6</button>

    <button onclick="keypadInput('1')">1</button>
    <button onclick="keypadInput('2')">2</button>
    <button onclick="keypadInput('3')">3</button>

    <button class="key-wide" onclick="keypadInput('0')">0</button>
    <button onclick="keypadInput('.')">.</button>
    <button class="key-back" onclick="keypadBackspace()">âŒ«</button>
  </div>

  <div id="gcashRefRow" class="gcash-row hidden">
    <input type="text" id="gcashRef" inputmode="text" placeholder="GCash Reference (optional)">
  </div>

  <div class="modal-actions">
    <button class="btn-cancel" onclick="closePaymentModal()">Cancel</button>
    <button
  id="confirmPaymentBtn"
  class="btn-confirm"
  onclick="confirmPayment()">
  Confirm
</button>
  </div>

  <!-- ðŸ“Š TODAY SALES MODAL -->
<div id="salesModal" class="modal hidden">
  <div class="modal-content">
    <h3>Todayâ€™s Sales</h3>

    <div id="salesList"></div>

    <div class="modal-actions">
      <button onclick="closeSales()">Close</button>
    </div>
  </div>
</div>

  <!-- ðŸ“¦ STOCKS LIST MODAL -->
<div id="stocksModal" class="modal hidden">
  <div class="modal-content">
    <h3>Available Stocks</h3>
    <table class="cart-table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Remaining</th>
        </tr>
      </thead>
      <tbody id="stocksTable"></tbody>
    </table>

    <div class="modal-actions">
      <button onclick="closeStocks()">Close</button>
    </div>
  </div>
</div>

</div>
    </div>
  </div>
</div>


  <!-- ================= SCRIPT ================= -->
  <script type="module" src="order.js"></script>
</body>
</html>