
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MAGAYON POS</title>
    <!-- âœ… REQUIRED for tablet + PWA -->
  <meta name="viewport"
        content="width=device-width,
                 initial-scale=1.0,
                 maximum-scale=1.0,
                 user-scalable=no" />

  <!-- âœ… PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1f1f1f">

  <!-- POS STYLES -->
  <link rel="stylesheet" href="order.css" />
</head>
<body>

  <!-- ================= TOP BAR ================= -->
  <div class="top-bar">
    <div class="pos-title">POS</div>
    <span id="netStatus" class="net online">ONLINE</span>
    <div id="syncStatus" style="
  margin-left:auto;
  font-size:13px;
  padding:4px 10px;
  background:#222;
  color:#fff;
  border-radius:12px;
">
  ðŸ”„ Syncing: <span id="syncCount">0</span>
</div>
<button
  id="syncInventoryBtn" aria-label="Sync inventory"
  style="
    margin-left:10px;
    font-size:12px;
    padding:4px 10px;
    border-radius:12px;
    background:#334155;
    color:#fff;
    border:none;
    cursor:pointer;
  ">
  ðŸ”„ Sync Inventory
</button>
    <div class="top-actions">
      <button id="fullscreenBtn" class="top-btn">â›¶ Full Screen</button>
      <button id="stocksBtn">Stocks List</button>
      <button id="salesBtn">Sales Report</button>
      <button class="active">Main Page</button>
 
    </div>

    <div class="cashier-info">
  <div><b>Cashier:</b> <span id="cashierName"></span></div>
  <div><b>Position:</b> <span id="cashierPosition"></span></div>
  <div><b>Location:</b> <span id="cashierLocation"></span></div>
</div>
  </div>

  <!-- ================= MAIN LAYOUT ================= -->
  <div class="pos-container">

<main class="products-panel">

  <!-- TOP BAR: categories + search -->
  <div class="products-top-bar">

    <div class="categories-top" id="categoryList">
      <!-- injected by order.js -->
    </div>

    <div class="search-box">
      <input
  type="text"
  id="searchInput"
  placeholder="Search products"
  aria-label="Search products"
  autocomplete="off"
/>
    </div>

  </div>

  <div id="productGrid" class="product-grid">
    <!-- Product cards -->
  </div>

</main>

    <!-- ========== RIGHT : CART ========== -->
    <aside class="cart-panel">
  <div class="cart-table-wrapper">
    <table class="cart-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Product</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>

      <tbody id="orderTable">
        <!-- Cart rows injected by JS -->
      </tbody>
    </table>
  </div>

  <div class="cart-summary">
    <div class="total-line">
      <span>SUM TOTAL:</span>
      <span>â‚±<span id="sumTotal">0.00</span></span>
    </div>
  </div>

  <div class="cart-actions">
    <button id="clearOrderBtn" class="btn-clear">Clear</button>
    <button class="btn-checkout checkout">Checkout</button>
    <button class="btn-print">Print</button>
  </div>
</aside>

  </div>

  <!-- ================= GLOBAL LOADER ================= -->
<div id="globalLoader" class="loader hidden">
  <div class="spinner"></div>
  <div class="loader-text">Loading dataâ€¦</div>
</div>


<!-- ================= Payment ================= -->
<div id="paymentModal" class="modal hidden">
  <div class="modal-content payment-ui">

    <div class="modal-body">

      <div class="payment-layout">

        <!-- LEFT -->
        <div class="payment-left">
          <div class="payment-header">
            <h2>Payment</h2>
            <span class="payment-method-badge" id="methodBadge">CASH</span>
          </div>

          <div class="payment-summary">
            <div class="summary-row total">
              <span>Total</span>
              <strong id="payTotal">â‚±0.00</strong>
            </div>
            <div class="summary-row paid">
              <span>Paid</span>
              <strong id="paidDisplay">â‚±0.00</strong>
            </div>
            <div class="summary-row change">
              <span>Change</span>
              <strong id="changeAmount">â‚±0.00</strong>
            </div>
          </div>

          <select id="paymentMethod" class="payment-method">
            <option value="CASH">Cash</option>
            <option value="GCASH">GCash</option>
          </select>

          <div id="gcashRefRow" class="gcash-row hidden">
            <input type="text" id="gcashRef" placeholder="GCash Reference (optional)">
          </div>
        </div>

        <!-- RIGHT -->
        <div class="payment-right">
          <div class="keypad">
            <button onclick="keypadInput('7')">7</button>
            <button onclick="keypadInput('8')">8</button>
            <button onclick="keypadInput('9')">9</button>

            <button onclick="keypadInput('4')">4</button>
            <button onclick="keypadInput('5')">5</button>
            <button onclick="keypadInput('6')">6</button>

            <button onclick="keypadInput('1')">1</button>
            <button onclick="keypadInput('2')">2</button>
            <button onclick="keypadInput('3')">3</button>

            <button class="key-wide" onclick="keypadInput('0')">0</button>
            <button onclick="keypadInput('.')">.</button>
            <button class="key-back" onclick="keypadBackspace()">âŒ«</button>
          </div>
        </div>

      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-cancel" onclick="closePaymentModal()">Cancel</button>
      <button id="confirmPaymentBtn" class="btn-confirm" onclick="confirmPayment()">
        Confirm
      </button>
    </div>

  </div>
</div>

   <div id="salesModal" class="modal hidden">
    <div class="modal-content sales-modal">
      <h2>Todayâ€™s Sales</h2>

          <!-- SCROLLABLE AREA -->
    <div class="sales-table-wrapper">

      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Reference</th>
            <th>Qty</th>
            <th>Cashier</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="salesBody"></tbody>
      </table>
      </div>

      <div class="total">
        Gross Sales: â‚±<span id="sumGross">0.00</span>
      </div>

      <button onclick="closeSales()">Close</button>
    </div>
  </div>

  <!-- ================= STOCKS MODAL ================= -->
<div id="stocksModal" class="modal hidden">
  <div class="modal-content">
    <h2>Todayâ€™s Inventory</h2>

    <table>
      <thead>
        <tr>
          <th>Item</th>
          <th>Added</th>
          <th>Remaining</th>
        </tr>
      </thead>
      <tbody id="stocksTable">
        <!-- injected by order.js -->
      </tbody>
    </table>

    <button onclick="closeStocks()">Close</button>
  </div>
</div>

<div id="inventoryToast"></div>

<button id="chatToggle" style="
  position:fixed;
  bottom:20px;
  right:20px;
  width:54px;
  height:54px;
  border-radius:50%;
  background:#2563eb;
  color:#fff;
  font-size:22px;
  border:none;
  z-index:9998;
">
ðŸ’¬
</button>

<div id="chatBox" class="hidden" style="
  position:fixed;
  bottom:90px;
  right:20px;
  width:320px;
  max-height:420px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  display:flex;
  flex-direction:column;
  z-index:9999;
">
</div>

  <!-- ================= SCRIPT ================= -->
  <script type="module" src="order.js"></script>
</body>
</html>

