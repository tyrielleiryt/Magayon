<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Magayon Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
</head>
<body>

<header class="top-bar">
  <div class="brand">
    <span class="icon">ğŸ´</span>
    <span class="title">POS</span>
  </div>
  
  <div id="datetime"></div>

  <button id="adminChatToggle" class="chat-toggle">
  ğŸ’¬ Chat
</button>

  <button id="logoutBtn" class="logout-btn">LOGOUT</button>
</header>

<div class="admin-layout">

  <aside class="sidebar">
    <button class="nav-btn active" data-view="dashboard">Dashboard</button>
    <button class="nav-btn" data-view="categories">Categories</button>
    <button class="nav-btn" data-view="products">Products</button>
    <button class="nav-btn" data-view="locations">Locations</button>
    <button class="nav-btn" data-view="staff">Staff</button>
    <button class="nav-btn" data-view="inventory">Inventory</button>
    <button class="nav-btn" data-view="dailyInventory">Daily Inventory System</button>
    <button class="nav-btn" data-view="dailySales">Daily Sales</button>
  </aside>

<main class="content">

  <div id="actionBar" class="action-bar"></div>

<div id="contentBox" class="content-box"></div>

</main>

</div>

<!-- âœ… REQUIRED FOR MODALS -->
<div id="modalOverlay" class="hidden">
  <div id="modalBox"></div>
</div>

<!-- ================= GLOBAL LOADER ================= -->
<div id="globalLoader" class="loader hidden">
  <div class="spinner"></div>
  <div class="loader-text">Loading dataâ€¦</div>
</div>

<!-- CLOSE DAY MODAL -->
<div id="closeDayModal" class="modal hidden">
  <div class="modal-content">
    <h2>ğŸ”’ Close Inventory Day</h2>

    <p class="muted">
      This will permanently close todayâ€™s inventory and lock the POS.
    </p>

    <div class="info-box">
      <div><strong>Date:</strong> <span id="closeDayDate"></span></div>
      <div><strong>Location:</strong> <span id="closeDayLocation"></span></div>
    </div>

    <div class="inventory-summary">
  <h3>ğŸ“¦ Remaining Inventory Summary</h3>

  <div class="summary-table">
    <div class="summary-header">
      <span>Item</span>
      <span>Remaining</span>
    </div>

    <div id="inventorySummaryLoading" class="muted">
  Loading inventoryâ€¦
</div>

    <div id="inventorySummaryList" class="summary-body">
      <!-- rows injected by JS -->
    </div>
  </div>

  <div class="summary-footer">
    <strong>Total Items:</strong>
    <span id="inventorySummaryCount">0</span>
  </div>
</div>

    <label class="checkbox">
      <input type="checkbox" id="confirmCloseDayCheckbox" />
      I understand this action cannot be undone
    </label>

    <div class="modal-actions">
      <button id="cancelCloseDayBtn" class="btn secondary">Cancel</button>
      <button id="confirmCloseDayBtn" class="btn danger" disabled>
        Confirm Close Day
      </button>
    </div>
  </div>
</div>

<!-- ================= ADMIN CHAT ================= -->
<div id="adminChatBox" class="hidden" style="
  position:fixed;
  bottom:20px;
  right:20px;
  width:360px;
  height:480px;
  background:#fff;
  border-radius:14px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  display:flex;
  flex-direction:column;
  z-index:9999;
">

  <div style="
    padding:12px;
    font-weight:700;
    background:#1e40af;
    color:#fff;
    border-radius:14px 14px 0 0;
  ">
    ğŸ’¬ Cashier Chat
  </div>

  <div id="adminChatMessages"
       style="flex:1;overflow-y:auto;padding:10px;background:#f8fafc">
  </div>

  <div style="display:flex;border-top:1px solid #ddd">
    <input id="adminChatInput"
           placeholder="Type replyâ€¦"
           style="flex:1;padding:10px;border:none" />
    <button onclick="sendAdminChat()"
            style="padding:10px 14px">
      Send
    </button>
  </div>

</div>

<script src="admin-close-day.js"></script>
<script type="module" src="admin.js"></script>

</body>
</html>